# ğŸ§  Product API POC

Une API Python FastAPI + GraphQL construite selon une architecture hexagonale (Clean Architecture) pour gÃ©rer un catalogue de produits multilingue.

---

## ğŸ› ï¸ Stack technique

- ğŸ”¥ **FastAPI** pour le serveur web
- ğŸ“ **Strawberry GraphQL** pour l'API GraphQL
- ğŸ **Python 3.11** avec **Poetry**
- ğŸ§± Architecture **Hexagonale**
- ğŸ§ª Tests (Ã  venir)
- ğŸ³ Docker et Docker Compose

---

## ğŸ“ Structure

```
apis/
â”œâ”€â”€ apis/
â”‚   â”œâ”€â”€ app.py                  # Initialisation FastAPI + routes
â”‚   â”œâ”€â”€ resolvers/              # GraphQL resolvers (Query/Mutation)
â”‚   â””â”€â”€ schemas/                # Types GraphQL
â”œâ”€â”€ interfaces/                 # Ports (interfaces mÃ©tiers)
â”œâ”€â”€ services/                   # Adaptateurs (infrastructure)
â”œâ”€â”€ usecases/                  # Logique mÃ©tier (application layer)
â”œâ”€â”€ main.py                     # Point d'entrÃ©e (uvicorn)
```

---

## ğŸš€ Lancer le projet

### 1. PrÃ©requis

- Docker
- Docker Compose
- (Optionnel) Python 3.11 + Poetry en local

### 2. DÃ©marrage

```bash
make up
```

> L'API sera disponible sur [http://localhost:8000/graphql](http://localhost:8000/graphql)

### 3. RequÃªte test `.http`

```http
POST http://localhost:8000/graphql
Content-Type: application/json

{
  "query": "query { products(locale: \"fr\") { code translation { title description } } }"
}
```

---

## ğŸ§ª Exemples GraphQL

### â• CrÃ©er un produit

```graphql
mutation createProduct($product: ProductInput!) {
  createProduct(product: $product)
}
```

```json
{
  "product": {
    "code": "P001",
    "translations": [
      { "locale": "fr", "translation": { "title": "Produit FR", "description": "Description FR" }},
      { "locale": "en", "translation": { "title": "Product EN", "description": "Description EN" }}
    ]
  }
}
```

---

## ğŸ”§ Makefile

Quelques commandes utiles :

```bash
make up         # Lancer l'app
make down       # Stopper
make restart    # RedÃ©marrer proprement
make shell      # Entrer dans le conteneur
make logs       # Logs live
make clean      # Nettoyage
```

---

## ğŸ“¦ Roadmap

- [x] CrÃ©ation / Listing produit multilingue
- [ ] Fallback locale automatique
- [ ] ImplÃ©mentation `MySQLProductRepository`
- [ ] Embeddings + indexation ElasticSearch
- [ ] Recherche multilingue intelligente

---

## ğŸ‘¤ Auteur

Fabrice, Lead Tech & Agiliste  
ğŸ“ Grenoble  
â¤ï¸ Basket US, spatial, Hearthstone Battleground  
ğŸš— Ã‰lectrique â€“ mais API rapide ğŸ˜‰

---